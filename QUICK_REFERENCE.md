# üöÄ SW Inventory - Quick Reference\n\n## üìç Access Points\n\n| Service | URL | Status |\n|---------|-----|--------|\n| **Application** | http://localhost:5174 | ‚úÖ Running |\n| **Prisma Studio** | http://localhost:5556 | ‚úÖ Running |\n| **Database** | localhost:5432/sw_inventory | ‚úÖ Connected |\n\n## üîë Credentials\n\n- **PostgreSQL User**: `postgres`\n- **PostgreSQL Password**: `postgres`\n- **Database**: `sw_inventory`\n\n## üì¶ Sample Data\n\n- **2 Vendors**: IBM, Broadcom\n- **2 Customers**: Acme Corporation, Globex Industries\n- **3 Software**: CICS, DB2, Endevor\n- **2 Packages**: Q1 2025, Q4 2024\n- **3 LPARs**: Production, Test, Globex\n\n## üõ†Ô∏è Common Commands\n\n### Development\n```bash\nnpm run dev          # Start dev server\nnpm run build        # Build for production\nnpm run check        # TypeScript check\n```\n\n### Database\n```bash\nnpx prisma studio    # Open database browser\nnpx prisma db push   # Push schema changes\nnpx prisma db seed   # Seed sample data\nnpx prisma generate  # Generate Prisma Client\n```\n\n### Migration\n```bash\nrun_migration.bat    # Run performance enhancements\n```\n\n## üìÇ Key Files\n\n### Configuration\n- `.env` - Database connection string\n- `prisma/schema.prisma` - Database schema\n- `package.json` - Dependencies\n\n### Business Logic\n- `src/lib/server/db.ts` - Database utilities\n- `src/lib/server/clone-utils.ts` - Clone functionality\n- `src/lib/services/package-service.ts` - Package management\n\n### Components\n- `src/lib/components/ui/` - Base UI components\n- `src/lib/components/common/` - Reusable components\n- `src/lib/components/domain/` - Domain-specific\n\n### Routes\n- `src/routes/customers/` - Customer management\n- `src/routes/vendors/` - Vendor management\n- `src/routes/software/` - Software products\n- `src/routes/packages/` - Package management\n- `src/routes/lpars/` - LPAR monitoring\n- `src/routes/api/clone/` - Clone API\n\n## üîÑ Clone Feature\n\n### Via API\n```javascript\n// Clone software\nconst response = await fetch('/api/clone', {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({\n    entityType: 'software',\n    sourceId: 'uuid',\n    data: { name: 'New Software Name' }\n  })\n});\n\n// Clone package\nconst response = await fetch('/api/clone', {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({\n    entityType: 'package',\n    sourceId: 'uuid',\n    data: {\n      name: 'Q2 2025 Package',\n      code: 'MF-Q2-2025',\n      version: '2025.2.0'\n    }\n  })\n});\n\n// Clone LPAR\nconst response = await fetch('/api/clone', {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({\n    entityType: 'lpar',\n    sourceId: 'uuid',\n    data: {\n      name: 'Test LPAR 2',\n      code: 'TEST-LPAR-2',\n      customerId: 'optional-uuid'\n    }\n  })\n});\n```\n\n### Via Component\n```svelte\n<CloneDialog\n  bind:open={showDialog}\n  title="Clone Software"\n  entityType="Software"\n  sourceName={software.name}\n  fields={[\n    { name: 'name', label: 'New Name', required: true }\n  ]}\n  preview={previewData}\n  onClone={handleClone}\n/>\n```\n\n## üóÑÔ∏è Database Functions\n\n### Compatibility Score\n```sql\nSELECT get_lpar_package_compatibility(\n  'lpar-uuid',\n  'package-uuid'\n);\n-- Returns: 85 (percentage)\n```\n\n### Global Search\n```sql\nSELECT * FROM global_search('search term', 20);\n-- Searches across all entities\n```\n\n### Clone in Database\n```sql\n-- Clone software\nSELECT clone_software('source-id', 'New Name');\n\n-- Clone package\nSELECT clone_package('source-id', 'New Name', 'CODE', '1.0');\n\n-- Clone LPAR\nSELECT clone_lpar('source-id', 'New Name', 'CODE', 'customer-id');\n```\n\n## üé® UI Components\n\n### Button\n```svelte\n<Button variant="default|secondary|destructive|outline|ghost">\n  Click Me\n</Button>\n```\n\n### Form Field\n```svelte\n<FormField\n  label="Name"\n  id="name"\n  name="name"\n  bind:value={formData.name}\n  required\n  error={errors.name}\n/>\n```\n\n### Data Table\n```svelte\n<DataTable\n  data={items}\n  columns={columns}\n  onRowClick={handleClick}\n  onSort={handleSort}\n/>\n```\n\n### Status Badge\n```svelte\n<StatusBadge active={item.active} />\n```\n\n### Version Display\n```svelte\n<VersionDisplay\n  version={{ version: 'V5R6M0', ptfLevel: 'PTF12345' }}\n  showBadge={true}\n/>\n```\n\n## üìä Performance Tips\n\n### Use Indexes\nThe system has 15+ indexes for:\n- Customer/vendor/software name searches\n- LPAR-package relationships\n- JSONB version history\n- Full-text search\n\n### Use Functions\nPostgreSQL functions for:\n- Compatibility calculations\n- Version queries\n- Cloning operations\n- Global search\n\n### Query Optimization\n```typescript\n// ‚úÖ Good: Use getPaginated\nconst result = await getPaginated(db.customer, page, pageSize, where, orderBy);\n\n// ‚úÖ Good: Select specific fields\nconst customers = await db.customer.findMany({\n  select: { id: true, name: true, code: true }\n});\n\n// ‚ùå Avoid: Loading everything without pagination\nconst all = await db.customer.findMany();\n```\n\n## üîç Troubleshooting\n\n### Database Connection Issues\n```bash\n# Test connection\nnpx prisma db pull\n\n# Regenerate client\nnpx prisma generate\n\n# Restart dev server\n# Press Ctrl+C, then:\nnpm run dev\n```\n\n### Port Already in Use\nThe app will auto-select another port (5174, 5175, etc.)\n\n### Prisma Client Errors\n```bash\nnpx prisma generate\nnpm run dev\n```\n\n## üìö Documentation\n\n- [README.md](README.md) - Project overview\n- [QUICKSTART.md](QUICKSTART.md) - Get started guide\n- [DATABASE_READY.md](DATABASE_READY.md) - Database setup\n- [POSTGRESQL_SETUP.md](POSTGRESQL_SETUP.md) - PostgreSQL guide\n- [ENHANCEMENTS_COMPLETE.md](ENHANCEMENTS_COMPLETE.md) - New features\n- [USAGE_EXAMPLES.md](USAGE_EXAMPLES.md) - Code examples\n- [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) - File organization\n- [DATABASE_SCHEMA.md](DATABASE_SCHEMA.md) - Schema details\n\n## üéØ Quick Tasks\n\n### View Data\n1. Open http://localhost:5556 (Prisma Studio)\n2. Browse any table\n3. Edit data directly\n\n### Create Customer\n1. Go to http://localhost:5174/customers/new\n2. Fill form\n3. Submit\n4. See in database!\n\n### Clone Software, Package, or LPAR\n1. Navigate to any detail page:\n   - Software: http://localhost:5174/software/{id}\n   - Package: http://localhost:5174/packages/{id}\n   - LPAR: http://localhost:5174/lpars/{id}\n2. Click the "Clone" button\n3. Fill in the required fields\n4. Submit to create a copy with all relationships\n\n### Search\n```sql\n-- In Prisma Studio or psql\nSELECT * FROM global_search('acme', 10);\n```\n\n## üöÄ Production Checklist\n\n- [ ] Run `npm run build`\n- [ ] Set production DATABASE_URL\n- [ ] Run migrations: `run_migration.bat`\n- [ ] Add authentication\n- [ ] Enable HTTPS\n- [ ] Set up backups\n- [ ] Configure monitoring\n- [ ] Add error tracking\n- [ ] Set up CI/CD\n\n---\n\n**Everything is ready to use!** üéâ\n\nFor questions, check the documentation files above.\n